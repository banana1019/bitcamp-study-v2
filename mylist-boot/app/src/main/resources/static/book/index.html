<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8">
  <title>독서 목록</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <link rel="stylesheet" href="style.css">
</head>
<body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
<h1><i class="fas fa-book"></i> 독서 목록</h1>
<a id="x-add" href="form.html">도서 추가</a>
<table class="table " id="x-book-table" border="1">
  <thead>
    <tr class="table-primary">
      <th>No.</th>
      <th>도서명</th>
      <th>저자</th>
      <th>출판사</th>
      <th>완독일자</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table>
<script type="text/javascript">

  var tbody = document.querySelector("#x-book-table tbody")

  fetch("/book/list")
    .then(function(response) {
      return response.json();
    })
    .then(function(books) {
      console.log(books);
      for (var i = 0; i < books.length; i++) {
        var book = books[i];
        var tr = document.createElement("tr");
        tr.innerHTML = `<th scope="row">${i+1}</th>
        <td><a href="view.html?index=${i}">${book.title}</a></td>
        <td>${book.author}</td>
        <td>${book.press}</td>
        <td>${book.readDate}</td>`;
        tbody.appendChild(tr);
      }
    });

</script>
<script src="https://kit.fontawesome.com/6478f529f2.js" crossorigin="anonymous"></script>
</body>
</html>
